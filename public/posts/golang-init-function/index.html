<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="jtr109">
    <meta name="description" content="When is the init function called?  After all the variable declarations in the package have evaluated their initializers. Only after all the imported packages have been initialized.  Order of package initialization  initialization of imported packages (recursive definition) computing and assigning initial values for variables declared in a package block executing init functions inside the package  Usecase of init function  The initializations can not be expressed as declarations.">
    <meta name="keywords" content="blog,developer,personal">

    

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Golang Init Function"/>
<meta name="twitter:description" content="When is the init function called?  After all the variable declarations in the package have evaluated their initializers. Only after all the imported packages have been initialized.  Order of package initialization  initialization of imported packages (recursive definition) computing and assigning initial values for variables declared in a package block executing init functions inside the package  Usecase of init function  The initializations can not be expressed as declarations."/>

    <meta property="og:title" content="Golang Init Function" />
<meta property="og:description" content="When is the init function called?  After all the variable declarations in the package have evaluated their initializers. Only after all the imported packages have been initialized.  Order of package initialization  initialization of imported packages (recursive definition) computing and assigning initial values for variables declared in a package block executing init functions inside the package  Usecase of init function  The initializations can not be expressed as declarations." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jtr109.github.io/posts/golang-init-function/" />
<meta property="article:published_time" content="2018-08-16T18:06:30+08:00" />
<meta property="article:modified_time" content="2018-08-16T18:06:30+08:00" />


    
      <base href="https://jtr109.github.io/posts/golang-init-function/">
    
    <title>
  Golang Init Function · jtr109&#39;s Castle
</title>

    
      <link rel="canonical" href="https://jtr109.github.io/posts/golang-init-function/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://jtr109.github.io/css/coder.min.3219ef62ae52679b7a9c19043171c3cd9f523628c2a65f3ef247ee18836bc90b.css" integrity="sha256-MhnvYq5SZ5t6nBkEMXHDzZ9SNijCpl8&#43;8kfuGINryQs=" crossorigin="anonymous" media="screen" />
    

    

    

    
      <link rel="stylesheet" href="https://jtr109.github.io/css/custom.css" />
    

    

    <link rel="icon" type="image/png" href="https://jtr109.github.io/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://jtr109.github.io/favicon/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.72.0" />
  </head>

  
  
  <body class="colorscheme-light"
        onload=""
  >
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://jtr109.github.io/">
      jtr109&#39;s Castle
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://jtr109.github.io/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://jtr109.github.io/categories/">Categories</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://jtr109.github.io/tags/">Tags</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Golang Init Function</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2018-08-16T18:06:30&#43;08:00'>
                August 16, 2018
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              1-minute read
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://jtr109.github.io/tags/golang/">golang</a></div>

        </div>
      </header>

      <div>
        
        <h2 id="when-is-the-init-function-called">When is the init function called?</h2>
<ul>
<li>After all the variable declarations in the package have evaluated their initializers.</li>
<li>Only after all the imported packages have been initialized.</li>
</ul>
<h3 id="order-of-package-initialization">Order of package initialization</h3>
<ol>
<li>initialization of imported packages (recursive definition)</li>
<li>computing and assigning initial values for variables declared in a package block</li>
<li>executing init functions inside the package</li>
</ol>
<h2 id="usecase-of-init-function">Usecase of init function</h2>
<ul>
<li>The initializations can not be expressed as declarations.</li>
<li><a href="https://golang.org/doc/effective_go.html#init">Verify or repair correctness of the program state</a> before real execution begins.</li>
</ul>
<h2 id="other-tips-about-the-init-function">Other tips about the init function</h2>
<ul>
<li>Many <code>init</code> functions can be defined in the same package or file</li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://medium.com/golangspec/init-functions-in-go-eac191b3860a">Init functions in go</a> (recommend to read)</li>
<li><a href="https://golang.org/doc/effective_go.html#init">The init function &ndash; golang doc</a></li>
<li><a href="https://stackoverflow.com/questions/24790175/when-is-the-init-function-run">When is the init function run &ndash; stackoverflow</a></li>
</ul>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jtr109" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
      </footer>
    </article>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js" id="MathJax-script"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'], ['\\(', '\\)']
        ],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
        <p>Welcome to My Castle.</p>
      
      
        ©
        
        2020
         jtr109 
      
      
         · 
        Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      
      
    </section>
  </footer>

    </main>

    

    

    

  </body>

</html>
